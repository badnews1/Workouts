ü§ñ –ü—Ä–∞–≤–∏–ª–∞ –¥–ª—è –ò–ò

# ‚õî –ó–ê–ü–†–ï–©–ï–ù–û –∏–∑–º–µ–Ω—è—Ç—å —ç—Ç–æ—Ç —Ñ–∞–π–ª –∏ —Å–æ–∑–¥–∞–≤–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –±–µ–∑ –∑–∞–ø—Ä–æ—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

## –ü–µ—Ä–µ–¥ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏
- **–ü–æ–∏—â–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–µ —Ä–µ—à–µ–Ω–∏–µ** –≤ –ø—Ä–æ–µ–∫—Ç–µ –ø–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º –Ω–æ–≤–æ–≥–æ —Ö—É–∫–∞/—É—Ç–∏–ª–∏—Ç—ã
- **–ù–∞–π–¥–∏ –≤—Å–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è** –ø–µ—Ä–µ–¥ –∏–∑–º–µ–Ω–µ–Ω–∏–µ–º —Å–∏–≥–Ω–∞—Ç—É—Ä—ã —Ñ—É–Ω–∫—Ü–∏–∏/–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
- **–ù–µ —É–¥–∞–ª—è–π –∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ –ø–æ–Ω–∏–º–∞–µ—à—å** ‚Äî —Å–ø—Ä–æ—Å–∏ –∑–∞—á–µ–º –æ–Ω

## –ü—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ —Ñ–∞–π–ª–∞
- **–ü—Ä–æ—á–∏—Ç–∞–π —Ñ–∞–π–ª –ü–û–õ–ù–û–°–¢–¨–Æ** –ø–µ—Ä–µ–¥ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º ‚Äî –æ—Å–æ–±–µ–Ω–Ω–æ –∏–º–ø–æ—Ä—Ç—ã –≤ –Ω–∞—á–∞–ª–µ
- **–î–æ–±–∞–≤–∏–ª –Ω–æ–≤—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç/—Ö—É–∫/—Ç–∏–ø ‚Üí –¥–æ–±–∞–≤—å –∏–º–ø–æ—Ä—Ç** ‚Äî –ø—Ä–æ–≤–µ—Ä—å —Å–µ–∫—Ü–∏—é –∏–º–ø–æ—Ä—Ç–æ–≤
- **–ü–æ—Å–ª–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è** –ø–µ—Ä–µ—á–∏—Ç–∞–π –∏–º–ø–æ—Ä—Ç—ã –∏ —É–±–µ–¥–∏—Å—å —á—Ç–æ –≤—Å—ë –¥–æ–±–∞–≤–ª–µ–Ω–æ

## –í–æ –≤—Ä–µ–º—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- **–û–¥–∏–Ω —Ç–∞—Å–∫ = –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è** ‚Äî –Ω–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏ "–∑–∞–æ–¥–Ω–æ"
- **–ë–µ–∑ any, as unknown, @ts-ignore** ‚Äî –ø–∏—à–∏ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ç–∏–ø—ã
- **–¢–∏–ø–∏–∑–∏—Ä—É–π –≤–æ–∑–≤—Ä–∞—Ç —Ñ—É–Ω–∫—Ü–∏–π —è–≤–Ω–æ** ‚Äî –Ω–µ –ø–æ–ª–∞–≥–∞–π—Å—è –Ω–∞ infer
- **–ò—Å–ø–æ–ª—å–∑—É–π `satisfies`** –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–∏–ø–∞ —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –ª–∏—Ç–µ—Ä–∞–ª–æ–≤
- **–î–∂–µ–Ω–µ—Ä–∏–∫–∏ –≤ —Ö—É–∫–∞—Ö** ‚Äî `useQuery<User>()` –Ω–µ `useQuery() as User`
- **–ë–µ–∑ —Ö–∞—Ä–¥–∫–æ–¥–∞** ‚Äî —Å—Ä–∞–∑—É –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö
- **–ë–µ–∑ console.log** –≤ —Ñ–∏–Ω–∞–ª—å–Ω–æ–º –∫–æ–¥–µ

## –°—Ç–∏–ª—å –∫–æ–¥–∞
- **–†–∞–Ω–Ω–∏–π return** –≤–º–µ—Å—Ç–æ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö if
- **–î–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏—è** –ø—Ä–æ–ø—Å–æ–≤ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö
- **–ì–æ–≤–æ—Ä—è—â–∏–µ –∏–º–µ–Ω–∞:** `handleAddToWishlist` –Ω–µ `handleClick`
- **handle vs on:** `handleClick` –≤–Ω—É—Ç—Ä–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞, `onClick` –≤ –ø—Ä–æ–ø—Å–∞—Ö
- **–ö–ª—é—á–∏ –≤ —Å–ø–∏—Å–∫–∞—Ö** ‚Äî —Ç–æ–ª—å–∫–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ id, –Ω–∏–∫–æ–≥–¥–∞ `key={index}`
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ useEffect** ‚Äî –í–°–ï –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ –º–∞—Å—Å–∏–≤–µ deps
- **–ù–µ –º—É—Ç–∏—Ä–æ–≤–∞—Ç—å state** ‚Äî `setState([...arr, item])` –Ω–µ `arr.push(item)`

## –ò–º–ø–æ—Ä—Ç—ã (–ø–æ—Ä—è–¥–æ–∫)
```tsx
// 1. React –∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
// 2. @/ –∞–ª–∏–∞—Å—ã (app ‚Üí pages ‚Üí widgets ‚Üí features ‚Üí entities ‚Üí shared)
// 3. –û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ ./
```

**–ö–æ–≥–¥–∞ –∫–∞–∫–∏–µ:**
- `@/` –∞–ª–∏–∞—Å—ã ‚Äî –∏–º–ø–æ—Ä—Ç –∏–∑ –î–†–£–ì–ò–• —Å–ª–∞–π—Å–æ–≤/—Å–ª–æ—ë–≤
- `./` `../` –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ ‚Äî –í–ù–£–¢–†–ò –æ–¥–Ω–æ–≥–æ —Å–ª–∞–π—Å–∞
```tsx
// entities/wishlist/ui/WishlistCard.tsx
import { Wishlist } from '../model/types';  // –≤–Ω—É—Ç—Ä–∏ —Å–ª–∞–π—Å–∞ ‚Üí –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π
import { Button } from '@/shared/ui';       // –¥—Ä—É–≥–æ–π —Å–ª–æ–π ‚Üí –∞–ª–∏–∞—Å
```

# üîß –ë–∞–∑–æ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã

## Debugging
1. **READ** ‚Äî –ø—Ä–æ—á–∏—Ç–∞–π –í–°–ï —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã (>300 —Å—Ç—Ä–æ–∫ ‚Äî –ø–æ —á–∞—Å—Ç—è–º)
2. **ANALYZE** ‚Äî –Ω–∞–π–¥–∏ –∫–æ—Ä–Ω–µ–≤—É—é –ø—Ä–∏—á–∏–Ω—É
3. **FIX** ‚Äî –∏—Å–ø—Ä–∞–≤—å –ø—Ä–∏—á–∏–Ω—É, –Ω–µ –∫–æ—Å—Ç—ã–ª–∏

## –ö–æ–¥ –±–µ–∑ legacy
**–ù–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π ‚Üí –Ω–µ—Ç –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏:**
- ‚ùå Deprecated —ç–∫—Å–ø–æ—Ä—Ç—ã, —Ä–µ—ç–∫—Å–ø–æ—Ä—Ç—ã, –º–∏–≥—Ä–∞—Ü–∏–∏, –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—Ç–∞—Ä—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤
- ‚úÖ –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏—Ç—å –Ω–∞–ø—Ä—è–º—É—é, –æ–±–Ω–æ–≤–ª—è—Ç—å –∏–º–ø–æ—Ä—Ç—ã –≤–µ–∑–¥–µ —Å—Ä–∞–∑—É

## DRY + –†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–æ–≤
- –ö–æ–¥ 2+ —Ä–∞–∑–∞ ‚Üí –≤—ã–Ω–µ—Å—Ç–∏ –≤ —Ñ—É–Ω–∫—Ü–∏—é/–∫–æ–º–ø–æ–Ω–µ–Ω—Ç/—Ö—É–∫
- –§–∞–π–ª > 200-300 —Å—Ç—Ä–æ–∫ ‚Üí —Ä–∞–∑–±–∏—Ç—å
- –û–¥–∏–Ω —Ñ–∞–π–ª = –æ–¥–Ω–∞ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å

---

# üìê FSD Architecture

## –ò–µ—Ä–∞—Ä—Ö–∏—è —Å–ª–æ—ë–≤
```
app ‚Üí pages ‚Üí widgets ‚Üí features ‚Üí entities ‚Üí shared
```

**–ò–º–ø–æ—Ä—Ç—ã:** —Ç–æ–ª—å–∫–æ –≤–Ω–∏–∑ –ø–æ –∏–µ—Ä–∞—Ä—Ö–∏–∏, –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–µ –∑–∞–ø—Ä–µ—â–µ–Ω—ã  
**–ò—Å–∫–ª—é—á–µ–Ω–∏—è:** entities –º–æ–≥—É—Ç @x/ cross-imports; shared –º–æ–∂–µ—Ç –∏–∑ `/components/ui/`

## Entity vs Feature

| Entity | Feature |
|--------|---------|
| –ß–¢–û —ç—Ç–æ (–¥–∞–Ω–Ω—ã–µ, CRUD, –∫–∞—Ä—Ç–æ—á–∫–∏) | –ß–¢–û –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å (–¥–µ–π—Å—Ç–≤–∏–µ, —Ñ–æ—Ä–º–∞) |
| `entities/wishlist` | `features/create-wishlist` |
| –û–¥–Ω–∞ —Å—É—â–Ω–æ—Å—Ç—å | –ú–æ–∂–µ—Ç –∫–æ–º–ø–æ–∑–∏—Ä–æ–≤–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ entities |

**–ö—Ä–∏—Ç–µ—Ä–∏–π:** –µ—Å–ª–∏ –¥–µ–π—Å—Ç–≤–∏–µ –∑–∞—Ç—Ä–∞–≥–∏–≤–∞–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ entities –∏–ª–∏ –µ—Å—Ç—å —Ñ–æ—Ä–º–∞ ‚Üí feature

## Widget vs Feature

| Widget | Feature |
|--------|---------|
| –ö–æ–º–ø–æ–∑–∏—Ü–∏—è UI –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è | –ë–∏–∑–Ω–µ—Å-–¥–µ–π—Å—Ç–≤–∏–µ —Å –ª–æ–≥–∏–∫–æ–π |
| –ü—Ä–æ—Å—Ç–∞—è –∫–æ–º–ø–æ–∑–∏—Ü–∏—è, –Ω–µ—Ç —Ñ–æ—Ä–º | –§–æ—Ä–º—ã, –≤–∞–ª–∏–¥–∞—Ü–∏—è, —Å–ª–æ–∂–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ |

**‚Üí Feature –µ—Å–ª–∏:** —Ñ–æ—Ä–º–∞ —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π, –ª–æ–≥–∏–∫–∞ >50-100 —Å—Ç—Ä–æ–∫, –±–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª–∞, —Å–≤–æ—ë API

---

# üì¶ –ò–º–µ–Ω–æ–≤–∞–Ω–∏–µ

| –ß—Ç–æ | –°—Ç–∏–ª—å | –ü—Ä–∏–º–µ—Ä |
|-----|-------|--------|
| –ü–∞–ø–∫–∏ —Å–ª–∞–π—Å–æ–≤ | kebab-case | `create-wishlist/` |
| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã | PascalCase | `WishlistCard.tsx` |
| –•—É–∫–∏ | camelCase + use | `useWishlists.ts` |
| –£—Ç–∏–ª–∏—Ç—ã | camelCase | `formatPrice.ts` |
| –¢–∏–ø—ã | PascalCase | `type Wishlist` |
| –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã | UPPER_SNAKE_CASE | `MAX_FILE_SIZE` |

---

# üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞

```
/app/           ‚Üí routing/, providers/, store/, config/
/pages/         ‚Üí ui/, model/, lib/, config/  (—Ç–æ–ª—å–∫–æ –∫–æ–º–ø–æ–∑–∏—Ü–∏—è!)
/widgets/       ‚Üí ui/, model/, lib/, config/
/features/      ‚Üí ui/, model/, lib/, config/, api/
/entities/      ‚Üí ui/, model/, lib/, config/, api/
/shared/        ‚Üí ui/, lib/(hooks, utils, validators), api/, model/, config/i18n/
/components/ui/ ‚Üí shadcn/ui (–≤–Ω–µ FSD)
```

**Flat Routing:** `/pages/home-feed/` ‚úÖ | `/pages/home/feed/` ‚ùå

---

# üìÇ –°–µ–≥–º–µ–Ω—Ç—ã

| –°–µ–≥–º–µ–Ω—Ç | –°–æ–¥–µ—Ä–∂–∏–º–æ–µ |
|---------|------------|
| **ui/** | –¢–æ–ª—å–∫–æ —Ä–∞–∑–º–µ—Ç–∫–∞ –∏ UI-–ª–æ–≥–∏–∫–∞ |
| **model/** | –¢–∏–ø—ã, –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞, —Ö—É–∫–∏ —Å –ª–æ–≥–∏–∫–æ–π, —Å—Ö–µ–º—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏ (zod) |
| **lib/** | –§–æ—Ä–º–∞—Ç—Ç–µ—Ä—ã, —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –≤–∞–ª–∏–¥–∞—Ç–æ—Ä—ã, –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã, —á–∏—Å—Ç—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ |
| **api/** | Data-fetching —Ö—É–∫–∏ (entities), —Å–ª–æ–∂–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ (features) |
| **config/** | –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã (tabs, menuItems), –∫–ª—é—á–∏ i18n |
| **lib/** –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã | –ú–∞–≥–∏—á–µ—Å–∫–∏–µ —á–∏—Å–ª–∞ (`MAX_LENGTH`), —Ä–µ–≥—É–ª—è—Ä–∫–∏, enum'—ã |
| **config/** –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã | –ú–∞—Å—Å–∏–≤—ã –æ–ø—Ü–∏–π –¥–ª—è UI (`PRIVACY_OPTIONS`), –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ |

**model/ vs lib/:** model = –±–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª–∞ + React hooks | lib = –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–µ–∑ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏

---

# üîó –ò–º–ø–æ—Ä—Ç—ã

```tsx
// ‚úÖ –ß–µ—Ä–µ–∑ –ø—É–±–ª–∏—á–Ω—ã–π API
import { Header } from '@/widgets/header';
import { useWishlists } from '@/entities/wishlist';

// ‚ùå –ü—Ä—è–º–æ–π –∏–º–ø–æ—Ä—Ç
import { Header } from '@/widgets/Header/ui/Header';
```

**–ß—Ç–æ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ index.ts:**
- ‚úÖ UI-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, —Ö—É–∫–∏, —Ç–∏–ø—ã ‚Äî –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Å–Ω–∞—Ä—É–∂–∏
- ‚ùå –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã, –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã

---

# üéØ –ü—Ä–∞–≤–∏–ª–∞ —Å–ª–æ—ë–≤

## Pages ‚Äî —Ç–æ–Ω–∫–∏–µ –æ–±—ë—Ä—Ç–∫–∏
- ‚úÖ –ö–æ–º–ø–æ–∑–∏—Ü–∏—è widgets/features, –ø–µ—Ä–µ–¥–∞—á–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Ä–æ—É—Ç–∞, layout
- ‚ùå –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞, API-–≤—ã–∑–æ–≤—ã, —Å–ª–æ–∂–Ω—ã–µ useEffect

## Widgets ‚Äî –∫–æ–º–ø–æ–∑–∏—Ç–Ω—ã–µ UI-–±–ª–æ–∫–∏
- ‚úÖ –ö–æ–º–ø–æ–∑–∏—Ü–∏—è, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ö—É–∫–æ–≤ –∏–∑ entities/features
- ‚ùå CRUD, –≤–∞–ª–∏–¥–∞—Ü–∏—è, –ø—Ä—è–º—ã–µ API-–≤—ã–∑–æ–≤—ã

## Features ‚Äî –±–∏–∑–Ω–µ—Å-–¥–µ–π—Å—Ç–≤–∏—è
- ‚úÖ –§–æ—Ä–º—ã, –≤–∞–ª–∏–¥–∞—Ü–∏—è, —Å–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞, —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–µ API

## Entities ‚Äî —Å—É—â–Ω–æ—Å—Ç–∏
- ‚úÖ –¢–∏–ø—ã, CRUD, –∫–∞—Ä—Ç–æ—á–∫–∏, –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ —Å—É—â–Ω–æ—Å—Ç–∏

---

# üö´ –ó–∞–ø—Ä–µ—â–µ–Ω–æ

1. –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã/—Ç–µ–∫—Å—Ç—ã –≤–Ω—É—Ç—Ä–∏ UI ‚Üí config/lib (–ª–æ–∫–∞–ª—å–Ω—ã–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –æ–¥–Ω–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ ‚Äî –û–ö)
2. –¢–∏–ø—ã –≤–Ω—É—Ç—Ä–∏ UI ‚Üí model/types.ts
3. –ò–º–ø–æ—Ä—Ç –≤–≤–µ—Ä—Ö –ø–æ –∏–µ—Ä–∞—Ä—Ö–∏–∏
4. –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –≤ shared/
5. –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π –∏–º–ø–æ—Ä—Ç –º–µ–∂–¥—É —Å–ª–∞–π—Å–∞–º–∏
6. –ü—Ä—è–º—ã–µ –∏–º–ø–æ—Ä—Ç—ã –º–∏–Ω—É—è index.ts
7. –í–ª–æ–∂–µ–Ω–Ω—ã–µ –ø–æ–¥—Å—Ç—Ä–∞–Ω–∏—Ü—ã

---

# üîÑ Cross-imports –º–µ–∂–¥—É entities

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:**
1. **–°–ª–æ—Ç-–ø–∞—Ç—Ç–µ—Ä–Ω** ‚Äî `productSlot: React.ReactNode` ‚úÖ
2. **–í—ã–Ω–æ—Å –≤ features** ‚Äî –µ—Å–ª–∏ –Ω—É–∂–Ω–∞ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ ‚úÖ
3. **@x/ cross-import** ‚Äî –∫—Ä–∞–π–Ω–∏–π —Å–ª—É—á–∞–π ‚ö†Ô∏è

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ @x/:**
```
entities/wishlist/
  ‚îú‚îÄ‚îÄ @x/
  ‚îÇ   ‚îî‚îÄ‚îÄ product.ts  ‚Üí export { ProductCard } from '@/entities/product';
  ‚îî‚îÄ‚îÄ ui/
      ‚îî‚îÄ‚îÄ WishlistItem.tsx  ‚Üí import { ProductCard } from '../@x/product';
```

---

# üóÑÔ∏è State Management

| –¢–∏–ø | –ì–¥–µ | –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç |
|-----|-----|------------|
| –õ–æ–∫–∞–ª—å–Ω–æ–µ UI | –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | useState |
| –°–µ—Ä–≤–µ—Ä–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ | entities/.../api/ | React Query |
| –ì–ª–æ–±–∞–ª—å–Ω–æ–µ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–µ | app/store/ | Zustand |
| –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ | entities/.../model/ | –•—É–∫–∏ |

‚ùå –ù–ï —Å–º–µ—à–∏–≤–∞—Ç—å React Query —Å Zustand –¥–ª—è –æ–¥–Ω–∏—Ö –¥–∞–Ω–Ω—ã—Ö

## –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- **API –æ—à–∏–±–∫–∏** ‚Üí –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–π –≤ —Ö—É–∫–∞—Ö (api/), –ø–æ–∫–∞–∑—ã–≤–∞–π toast
- **UI –æ—à–∏–±–∫–∏** ‚Üí Error Boundary –Ω–∞ —É—Ä–æ–≤–Ω–µ pages/widgets
- **–í–∞–ª–∏–¥–∞—Ü–∏—è** ‚Üí –≤ —Ñ–æ—Ä–º–∞—Ö (features/), –¥–æ –æ—Ç–ø—Ä–∞–≤–∫–∏

---

# üåç i18n

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –ì–¥–µ |
|-----------|-----|
| –û–±—â–∏–µ (save, cancel, errors) | shared/config/i18n/ |
| UI —Å—É—â–Ω–æ—Å—Ç–∏ | entities/.../config/i18n/ |
| –î–µ–π—Å—Ç–≤–∏—è/—Ñ–æ—Ä–º—ã | features/.../config/i18n/ |

---

# üóÉÔ∏è Supabase

## –ü–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —Ä–∞–±–æ—Ç—ã
- **–ü—Ä–æ—á–∏—Ç–∞–π —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é —Å—Ö–µ–º—É** ‚Äî `supabase/migrations/` –∏–ª–∏ —á–µ—Ä–µ–∑ Dashboard
- **–ù–µ —Å–æ–∑–¥–∞–≤–∞–π —Ç–∞–±–ª–∏—Ü—ã, –∫–æ—Ç–æ—Ä—ã–µ —É–∂–µ –µ—Å—Ç—å** ‚Äî —Å–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä—å
- **–ò—Å–ø–æ–ª—å–∑—É–π —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç–∏–ø—ã** –∏–∑ `database.types.ts` –µ—Å–ª–∏ –µ—Å—Ç—å

## –ú–∏–≥—Ä–∞—Ü–∏–∏
- **–û–¥–Ω–∞ –º–∏–≥—Ä–∞—Ü–∏—è = –æ–¥–Ω–æ –ª–æ–≥–∏—á–µ—Å–∫–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ** ‚Äî –Ω–µ –º–µ—à–∞–π –≤ –∫—É—á—É
- **–í—Å–µ–≥–¥–∞ –ø–∏—à–∏ `down` –º–∏–≥—Ä–∞—Ü–∏—é** (–æ—Ç–∫–∞—Ç) –¥–ª—è `up`
- **–ù–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π —Å—Ç–∞—Ä—ã–µ –º–∏–≥—Ä–∞—Ü–∏–∏** ‚Äî —Ç–æ–ª—å–∫–æ –Ω–æ–≤—ã–µ
- **–ù–∞–∑—ã–≤–∞–π –ø–æ–Ω—è—Ç–Ω–æ:** `20240115_add_wishlist_table.sql`

## RLS (Row Level Security)
- **RLS –≤–∫–ª—é—á—ë–Ω –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é** ‚Äî –±–µ–∑ –ø–æ–ª–∏—Ç–∏–∫ —Ç–∞–±–ª–∏—Ü–∞ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞
- **–í—Å–µ–≥–¥–∞ —Å–æ–∑–¥–∞–≤–∞–π –ø–æ–ª–∏—Ç–∏–∫–∏** –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Ç–∞–±–ª–∏—Ü—ã
- **–ü—Ä–æ–≤–µ—Ä—å auth.uid()** ‚Äî —á–∞—Å—Ç–∞—è –ø—Ä–∏—á–∏–Ω–∞ "–ø—É—Å—Ç—ã—Ö" –æ—Ç–≤–µ—Ç–æ–≤
```sql
-- ‚úÖ –°–æ–∑–¥–∞–ª —Ç–∞–±–ª–∏—Ü—É ‚Üí —Å—Ä–∞–∑—É –ø–æ–ª–∏—Ç–∏–∫–∏
create policy "Users read own data" on wishlists
  for select using (auth.uid() = user_id);
```

## –ó–∞–ø—Ä–æ—Å—ã
- **–ü—Ä–æ–≤–µ—Ä—è–π .single() vs .maybeSingle()** ‚Äî first –∫–∏–¥–∞–µ—Ç –æ—à–∏–±–∫—É –µ—Å–ª–∏ –Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö
- **–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–π { data, error }** ‚Äî –Ω–µ –∏–≥–Ω–æ—Ä–∏—Ä—É–π error
- **–¢–∏–ø–∏–∑–∏—Ä—É–π —á–µ—Ä–µ–∑ –¥–∂–µ–Ω–µ—Ä–∏–∫–∏:** `supabase.from('wishlists').select<Wishlist>()`
```tsx
// ‚ùå
const { data } = await supabase.from('wishlists').select();

// ‚úÖ
const { data, error } = await supabase.from('wishlists').select();
if (error) throw error;
```

## –°–≤—è–∑–∏ –∏ join'—ã
- **Foreign key –Ω—É–∂–µ–Ω –¥–ª—è join'–æ–≤** ‚Äî –±–µ–∑ –Ω–µ–≥–æ `select('*, products(*)')` –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- **–ü—Ä–æ–≤–µ—Ä—å –∏–º—è —Å–≤—è–∑–∏** ‚Äî Supabase –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

# –û—à–∏–±–∫–∏ Supabase
- **Toast –≤ —Ö—É–∫–µ (api/)** ‚Äî –Ω–µ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ
- **PGRST116 (no rows) ‚Äî –Ω–µ –æ—à–∏–±–∫–∞** ‚Äî –ø—Ä–æ–≤–µ—Ä—è–π `data?.length`

## RLS –ø–∞—Ç—Ç–µ—Ä–Ω—ã
- –õ–∏—á–Ω–æ–µ: `auth.uid() = user_id`
- –ü—É–±–ª–∏—á–Ω–æ–µ + —Å–≤–æ—ë: `is_public = true OR auth.uid() = user_id`

## Foreign keys
- **CASCADE** ‚Äî –¥–ª—è –¥–æ—á–µ—Ä–Ω–∏—Ö (wishes ‚Üí wishlist)
- **RESTRICT** ‚Äî –¥–ª—è —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–æ–≤

## Timestamps
- `created_at` ‚Üí `default now()` –≤ SQL
- `updated_at` ‚Üí —Ç—Ä–∏–≥–≥–µ—Ä –≤ SQL

## –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
- –ö–ª–∏–µ–Ω—Ç: singleton –≤ `shared/api/supabase.ts` —Å –¥–∂–µ–Ω–µ—Ä–∏–∫–æ–º `createClient<Database>(...)`
- –¢–∏–ø—ã: `supabase gen types typescript > shared/api/database.types.ts`
- –ú–∏–≥—Ä–∞—Ü–∏–∏: `supabase migration new –Ω–∞–∑–≤–∞–Ω–∏–µ` ‚Üí `supabase db push`

---

# üé® –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è

- –ë—Ä–µ–Ω–¥: #1a1a1a (—á–µ—Ä–Ω—ã–π), #ffffff (–±–µ–ª—ã–π), #ffda54 (–∂–µ–ª—Ç—ã–π), #11b981 (–∑–µ–ª–µ–Ω—ã–π), #93c5fd (–≥–æ–ª—É–±–æ–π), #ef4444 (–∫—Ä–∞—Å–Ω—ã–π) - –¥—Ä—É–≥–∏—Ö —Ü–≤–µ—Ç–æ–≤ –Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏. 
- –•–∞—Ä–¥–∫–æ–∂–µ–Ω–Ω—ã–µ —Ü–≤–µ—Ç–∞ ‚Üí CSS-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑ globals.css

# üì± –ü—Ä–æ–µ–∫—Ç

- –ú–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (–ø–æ—Ä—Ç—Ä–µ—Ç–Ω–∞—è –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏—è)
- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤ –∫–æ–¥–µ –Ω–∞ —Ä—É—Å—Å–∫–æ–º